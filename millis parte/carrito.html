<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Carrito de Compras</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <h1 class="logo">üç∞ Pasteler√≠a</h1>

    <nav>
      <a href="index.html">‚Üê Seguir comprando</a>
    </nav>

    <div class="cart">
      üõí Carrito (<span id="cart-count">0</span>)
    </div>
  </header>

  <!-- CONTENIDO -->
  <main class="carrito-container">
    <h2>Carrito de Compras</h2>

    <table class="carrito-table">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Precio</th>
        </tr>
      </thead>
      <tbody id="carrito-items">
        <!-- Productos del carrito -->
      </tbody>
    </table>

    <div class="carrito-total">
      <h3>Total: <span id="carrito-total">$0</span></h3>
    </div>

    <div class="carrito-actions">
      <button id="btn-vaciar">Vaciar carrito</button>
    </div>
  </main>

  <!-- SCRIPTS -->
  <script src="js/carrito.js"></script>

  <script>
    // ===============================
    // MOSTRAR CARRITO
    // ===============================
    const carritoItems = document.getElementById("carrito-items");
    const totalSpan = document.getElementById("carrito-total");

    function mostrarCarrito() {
      carritoItems.innerHTML = "";

      if (carrito.length === 0) {
        carritoItems.innerHTML =
          "<tr><td colspan='2'>El carrito est√° vac√≠o</td></tr>";
        totalSpan.textContent = "$0";
        return;
      }

      carrito.forEach(producto => {
        const fila = document.createElement("tr");

        fila.innerHTML = `
          <td>${producto.nombre}</td>
          <td>$${producto.precio.toLocaleString("es-CL")} CLP</td>
        `;

        carritoItems.appendChild(fila);
      });

      totalSpan.textContent =
        "$" + obtenerTotal().toLocaleString("es-CL") + " CLP";
    }

    // ===============================
    // VACIAR CARRITO
    // ===============================
    document.getElementById("btn-vaciar").addEventListener("click", () => {
      if (confirm("¬øSeguro que deseas vaciar el carrito?")) {
        limpiarCarrito();
        mostrarCarrito();
      }
    });

    mostrarCarrito();
    actualizarContador();
  </script>

</body>
</html>
